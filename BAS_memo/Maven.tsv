やること	手動でやると	 Mavenに任せると（pom.xmlに書くだけ）
依存ライブラリ取得	1つずつjar探して手動ダウンロード	 mvn dependency:resolve で完全自動
コンパイル	javacを手動で叩く	 mvn compile で自動
テスト実行	JUnitを手動実行	 mvn test で自動
jar/war作成	手動で固める	 mvn package で自動
BTPにデプロイ	めちゃめちゃめんどくさい	 mvn clean package → cf push でOK
		
Maven基本コマンド		
コマンド	意味	使う頻度
mvn clean	古いビルド結果全部削除	★★★★★
mvn compile	ソースをコンパイル	★★★★★
mvn test	テスト実行	★★★★★
mvn package	実行可能jar/war作成	★★★★★
mvn install	ローカルリポジトリに登録	★★★★
mvn dependency:tree	依存関係をツリー表示（衝突チェック）	★★★★★
mvn spring-boot:run	Spring Bootアプリをローカル起動（超便利）	★★★★
		
pom.xmlの超重要タグ		
タグ	役割	例
<dependencies>	外部ライブラリ全部ここに書く	 spring-boot-starter-web など
<dependency>	1つのライブラリ定義	
<groupId>	組織名（会社名）	 org.springframework.boot
<artifactId>	ライブラリ名	 spring-boot-starter-web
<version>	バージョン	 3.2.0
<build><plugins>	ビルド時に使うプラグイン	 cloudfoundry-maven-plugin など
<properties>	バージョン統一管理	 <java.version>17</java.version>
		
		
pom.xml / dependency / artifactId		
spring-boot-starter-jdbc	DBアクセス用。JDBC	
spring-boot-starter-data-jpa	DBアクセス用。JPA	
spring-boot-starter-test	テスト用	
spring-batch-test	テスト用	
ngdbc	SAP HANA に接続するための JDBC ドライバ	
commons-csv	CSVファイルを読み書きするためのライブラリ	
httpclient	HTTP通信（外部Web API呼び出しなど）を行うためのクライアント	
h2	組み込みDB。ローカル実行やテストで使う想定	
lombok	Getter/Setter などを自動生成してコードを簡潔にするライブラリ	
junit-jupiter	テスト用	
spring-boot-starter-actuator	ヘルスチェックやメトリクスなど、運用監視用のエンドポイントを提供	
cds-starter-cloudfoundry	Cloud Foundry 上で動かすための SAP 用スターター	
jackson-databind	JSON の変換（オブジェクト⇔JSON）用	
HikariCP	DB接続プールの実装。高速・安定したコネクション管理用	
spring-boot-maven-plugin	mvn package したときに、Spring Boot の実行可能 JAR を作るプラグイン	
		
		
		
		
Maven の標準レイアウト		
Java ソース		
　→{プロジェクト}/src/main/java		
リソース（application.properties, schema.sql など）		
　→{プロジェクト}/src/main/resources		
		
Spring Boot や IDE（IntelliJ, VS Code の拡張など）は		
この前提でいろいろ自動化されています。		
		
これを変えるにはpom.xmlを変える必要がある		
<build>		
    <!-- Javaソース -->		
    <sourceDirectory>src/my-java</sourceDirectory>		
		
    <!-- リソース -->		
    <resources>		
        <resource>		
            <directory>src/my-resources</directory>		
        </resource>		
    </resources>		
</build>		
		
		
		
		
		
		
		
		
1. Javaソースの特定フォルダをコンパイルから外す		
		
src/main/java/com/example/ignore/** をビルド対象外にしたい例：		
		
<build>		
  <plugins>		
    <plugin>		
      <groupId>org.apache.maven.plugins</groupId>		
      <artifactId>maven-compiler-plugin</artifactId>		
      <version>3.13.0</version> <!-- 例 -->		
      <configuration>		
        <excludes>		
          <exclude>com/example/ignore/**</exclude>		
        </excludes>		
      </configuration>		
    </plugin>		
  </plugins>		
</build>		
		
これで、そのパターンにマッチするクラスはコンパイルされません。		
		
		
		
2. リソースフォルダを外す		
		
src/main/resources/tmp/** を含めたくない例：		
		
<build>		
  <resources>		
    <resource>		
      <directory>src/main/resources</directory>		
      <excludes>		
        <exclude>tmp/**</exclude>		
      </excludes>		
    </resource>		
  </resources>		
</build>		
		
		
		
3. テストクラス・テストフォルダを外す		
		
src/test/java/com/example/slow/** をテスト実行から除外：		
		
<build>		
  <plugins>		
    <plugin>		
      <groupId>org.apache.maven.plugins</groupId>		
      <artifactId>maven-surefire-plugin</artifactId>		
      <version>3.5.0</version> <!-- 例 -->		
      <configuration>		
        <excludes>		
          <exclude>com/example/slow/**</exclude>		
        </excludes>		
      </configuration>		
    </plugin>		
  </plugins>		
</build>		
		
		
		
4. いちばん簡単な考え方		
		
Maven が「自動でビルドする」のは基本この4つだけです		
src/main/java		
src/main/resources		
src/test/java		
src/test/resources		
		
それ以外の場所に置いたものは、そもそもビルド対象になりません。		
