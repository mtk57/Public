## 出力言語
このリポジトリに関するすべての説明・要約は日本語で記述してください。

## SimpleOCRforBase32 仕様  Version 1.0.0
===============

## 検討履歴メモ (Codex)
- OCR は Base32 (32桁) + ハイフン + チェックサム(2桁) の行を対象。誤認識が約 12 行あり、精度向上策を検討した。
- 現行ロジックは OCR 結果からチャンク32桁とチェックサム2桁を取り出し、自前の `ComputeChecksum` で一致判定し重み付けに利用しているが、チェックサム自体の誤認識がある場合は過信しない方針が必要。
- 改善案: 画像前処理の閾値・リサイズ・モルフォジー調整、Tesseract の PSM/ホワイトリスト/辞書設定の見直し、N-gram 等での事後補正強化、誤行ログ分析、フォント特化の補助 OCR 等。
- UI 改善案: TextBox から `DataGridView` へ変更し、各行のチャンク/チェックサム/一致フラグを表示。OCR 後に不一致行のみユーザーがチェックサムやチャンクを編集→再調整を実行する操作フロー。
- チェックサムを人間が確認・入力するワークフローも検討。特に「一致しない行だけ手入力→再調整」方式が実用的。
- Base32 に存在しない文字（例: `1`, `8`）が最終結果に残らないよう、投票段階や出力段階で `AllowedCharacterSet` による強制フィルタと UI の入力制限を追加する案。
- `PreprocessImage` 内で OpenCV の deskew を実行しているが、角度推定の安定化（二値化後に `FindNonZero` する等）と回転による欠け防止（ボーダー処理）が改善余地として挙がった。
